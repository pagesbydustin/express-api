<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Journal API - Documentation</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      padding: 40px 20px;
    }
    .container {
      background: white;
      border-radius: 20px;
      box-shadow: 0 20px 60px rgba(0,0,0,0.3);
      max-width: 1200px;
      margin: 0 auto;
      padding: 40px;
    }
    .header {
      text-align: center;
      margin-bottom: 40px;
      padding-bottom: 30px;
      border-bottom: 3px solid #667eea;
    }
    h1 {
      color: #333;
      font-size: 36px;
      margin-bottom: 10px;
    }
    .subtitle {
      color: #666;
      font-size: 16px;
    }
    .nav-links {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-bottom: 40px;
      flex-wrap: wrap;
    }
    .nav-link {
      padding: 10px 20px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      text-decoration: none;
      border-radius: 8px;
      font-weight: 600;
      transition: transform 0.2s, box-shadow 0.2s;
    }
    .nav-link:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 20px rgba(102, 126, 234, 0.4);
    }
    .section {
      margin-bottom: 50px;
    }
    h2 {
      color: #667eea;
      font-size: 28px;
      margin-bottom: 20px;
      padding-bottom: 10px;
      border-bottom: 2px solid #eee;
    }
    h3 {
      color: #764ba2;
      font-size: 22px;
      margin-top: 30px;
      margin-bottom: 15px;
    }
    h4 {
      color: #555;
      font-size: 18px;
      margin-top: 20px;
      margin-bottom: 10px;
    }
    p {
      color: #666;
      line-height: 1.8;
      margin-bottom: 15px;
    }
    .endpoint {
      background: #f8f9fa;
      border-left: 4px solid #667eea;
      padding: 20px;
      margin: 20px 0;
      border-radius: 8px;
    }
    .endpoint-title {
      font-size: 20px;
      color: #333;
      margin-bottom: 10px;
      font-weight: 600;
    }
    .method {
      display: inline-block;
      padding: 4px 12px;
      border-radius: 4px;
      font-weight: 600;
      font-size: 14px;
      margin-right: 10px;
    }
    .method-get { background: #28a745; color: white; }
    .method-post { background: #007bff; color: white; }
    .method-put { background: #ffc107; color: #333; }
    .method-delete { background: #dc3545; color: white; }
    .endpoint-path {
      font-family: monospace;
      background: white;
      padding: 8px 12px;
      border-radius: 6px;
      color: #667eea;
      border: 1px solid #ddd;
      display: inline-block;
      margin-top: 5px;
    }
    .code-block {
      background: #2d2d2d;
      color: #f8f8f2;
      padding: 20px;
      border-radius: 8px;
      overflow-x: auto;
      margin: 15px 0;
      font-family: 'Courier New', monospace;
      font-size: 14px;
      line-height: 1.6;
    }
    .info-box {
      background: #e7f3ff;
      border-left: 4px solid #2196F3;
      padding: 15px;
      margin: 20px 0;
      border-radius: 6px;
    }
    .warning-box {
      background: #fff3cd;
      border-left: 4px solid #ffc107;
      padding: 15px;
      margin: 20px 0;
      border-radius: 6px;
    }
    .error-box {
      background: #f8d7da;
      border-left: 4px solid #dc3545;
      padding: 15px;
      margin: 20px 0;
      border-radius: 6px;
    }
    .success-box {
      background: #d4edda;
      border-left: 4px solid #28a745;
      padding: 15px;
      margin: 20px 0;
      border-radius: 6px;
    }
    ul {
      margin-left: 20px;
      margin-bottom: 15px;
    }
    li {
      color: #666;
      line-height: 1.8;
      margin-bottom: 8px;
    }
    .param-table {
      width: 100%;
      border-collapse: collapse;
      margin: 20px 0;
    }
    .param-table th {
      background: #667eea;
      color: white;
      padding: 12px;
      text-align: left;
      font-weight: 600;
    }
    .param-table td {
      padding: 12px;
      border-bottom: 1px solid #eee;
      color: #666;
    }
    .param-table tr:hover {
      background: #f8f9fa;
    }
    .back-home {
      text-align: center;
      margin-top: 40px;
      padding-top: 30px;
      border-top: 3px solid #667eea;
    }
    code {
      background: #f4f4f4;
      padding: 2px 6px;
      border-radius: 4px;
      font-family: monospace;
      color: #667eea;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>üìî Journal API Documentation</h1>
      <p class="subtitle">Complete API reference for the Journal Management System</p>
    </div>

    <div class="nav-links">
      <a href="#getting-started" class="nav-link">Getting Started</a>
      <a href="#authentication" class="nav-link">Authentication</a>
      <a href="#auth-routes" class="nav-link">Auth Routes</a>
      <a href="#user-routes" class="nav-link">User Routes</a>
      <a href="#journal-routes" class="nav-link">Journal Routes</a>
      <a href="#errors" class="nav-link">Error Handling</a>
    </div>

    <!-- GETTING STARTED -->
    <div class="section" id="getting-started">
      <h2>üöÄ Getting Started</h2>
      
      <h3>Base URL</h3>
      <div class="code-block">http://localhost:3000/api</div>
      
      <h3>Prerequisites</h3>
      <ul>
        <li>Node.js (v14 or higher)</li>
        <li>PostgreSQL database</li>
        <li>npm or yarn</li>
      </ul>

      <h3>Installation</h3>
      <div class="code-block"># Install dependencies
npm install

# Configure environment variables in .env
DATABASE_URL=postgresql://username:password@localhost:5432/journal_db
JWT_SECRET=your-secret-key-here
PORT=3000

# Start the server
npm start

# For development with auto-reload
npm run dev</div>

      <div class="info-box">
        <strong>üìò Note:</strong> The API is configured to connect to PostgreSQL with SSL. This is suitable for development but should be properly configured for production environments.
      </div>
    </div>

    <!-- AUTHENTICATION -->
    <div class="section" id="authentication">
      <h2>üîê Authentication</h2>
      
      <p>This API uses JWT (JSON Web Tokens) for authentication. Include your token in the Authorization header:</p>
      
      <div class="code-block">Authorization: Bearer YOUR_JWT_TOKEN</div>
      
      <div class="warning-box">
        <strong>‚ö†Ô∏è Token Expiration:</strong> Tokens expire after 24 hours. You'll need to login again to get a new token.
      </div>
    </div>

    <!-- AUTH ROUTES -->
    <div class="section" id="auth-routes">
      <h2>üîë Authentication Routes</h2>

      <!-- REGISTER -->
      <div class="endpoint">
        <div class="endpoint-title">
          <span class="method method-post">POST</span>
          Register User
        </div>
        <div class="endpoint-path">/api/auth/register</div>
        
        <h4>Description</h4>
        <p>Create a new user account. The first user to register automatically becomes an admin.</p>
        
        <h4>Request Body</h4>
        <div class="code-block">{
  "username": "john_doe",
  "email": "john@example.com",
  "password": "securePassword123"
}</div>

        <h4>Success Response (201)</h4>
        <div class="code-block">{
  "success": true,
  "data": {
    "id": 1,
    "username": "john_doe",
    "email": "john@example.com",
    "role": "admin",
    "created_at": "2024-12-10T10:30:00.000Z"
  },
  "message": "Admin account created"
}</div>

        <h4>Errors</h4>
        <ul>
          <li><code>400</code> - "All fields are required"</li>
          <li><code>400</code> - "User already exists"</li>
          <li><code>500</code> - "Failed to register user"</li>
        </ul>
      </div>

      <!-- LOGIN -->
      <div class="endpoint">
        <div class="endpoint-title">
          <span class="method method-post">POST</span>
          Login
        </div>
        <div class="endpoint-path">/api/auth/login</div>
        
        <h4>Description</h4>
        <p>Authenticate and receive a JWT token.</p>
        
        <h4>Request Body</h4>
        <div class="code-block">{
  "email": "john@example.com",
  "password": "securePassword123"
}</div>

        <h4>Success Response (200)</h4>
        <div class="code-block">{
  "success": true,
  "data": {
    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
    "user": {
      "id": 1,
      "username": "john_doe",
      "email": "john@example.com",
      "role": "admin"
    }
  }
}</div>

        <h4>Errors</h4>
        <ul>
          <li><code>400</code> - "Email and password required"</li>
          <li><code>401</code> - "Invalid credentials"</li>
          <li><code>500</code> - "Failed to login"</li>
        </ul>
      </div>
    </div>

    <!-- USER ROUTES -->
    <div class="section" id="user-routes">
      <h2>üë§ User Routes</h2>
      
      <div class="info-box">
        <strong>üîí Authentication Required:</strong> All user routes require a valid JWT token in the Authorization header.
      </div>

      <!-- GET CURRENT USER -->
      <div class="endpoint">
        <div class="endpoint-title">
          <span class="method method-get">GET</span>
          Get Current User
        </div>
        <div class="endpoint-path">/api/users/me</div>
        
        <h4>Description</h4>
        <p>Get information about the currently authenticated user.</p>
        
        <h4>Headers</h4>
        <div class="code-block">Authorization: Bearer YOUR_JWT_TOKEN</div>

        <h4>Success Response (200)</h4>
        <div class="code-block">{
  "success": true,
  "data": {
    "id": 1,
    "username": "john_doe",
    "email": "john@example.com",
    "role": "user",
    "created_at": "2024-12-10T10:30:00.000Z"
  }
}</div>
      </div>

      <!-- GET USER STATS -->
      <div class="endpoint">
        <div class="endpoint-title">
          <span class="method method-get">GET</span>
          Get User Statistics
        </div>
        <div class="endpoint-path">/api/users/me/stats</div>
        
        <h4>Description</h4>
        <p>Get statistics for the current user, including total entry count.</p>
        
        <h4>Success Response (200)</h4>
        <div class="code-block">{
  "success": true,
  "data": {
    "entry_count": 15,
    "user_id": 1
  }
}</div>
      </div>

      <!-- GET ALL USERS (ADMIN) -->
      <div class="endpoint">
        <div class="endpoint-title">
          <span class="method method-get">GET</span>
          Get All Users <span style="color: #dc3545; font-size: 14px;">(Admin Only)</span>
        </div>
        <div class="endpoint-path">/api/users</div>
        
        <h4>Description</h4>
        <p>List all users in the system. Requires admin role.</p>
        
        <h4>Success Response (200)</h4>
        <div class="code-block">{
  "success": true,
  "data": [
    {
      "id": 1,
      "username": "john_doe",
      "email": "john@example.com",
      "role": "admin",
      "created_at": "2024-12-10T10:30:00.000Z"
    }
  ]
}</div>
      </div>

      <!-- UPDATE USER ROLE (ADMIN) -->
      <div class="endpoint">
        <div class="endpoint-title">
          <span class="method method-put">PUT</span>
          Update User Role <span style="color: #dc3545; font-size: 14px;">(Admin Only)</span>
        </div>
        <div class="endpoint-path">/api/users/:id/role</div>
        
        <h4>Description</h4>
        <p>Change a user's role between 'user' and 'admin'.</p>
        
        <h4>Request Body</h4>
        <div class="code-block">{
  "role": "admin"
}</div>

        <h4>Success Response (200)</h4>
        <div class="code-block">{
  "success": true,
  "data": {
    "id": 2,
    "username": "jane_smith",
    "email": "jane@example.com",
    "role": "admin"
  }
}</div>
      </div>

      <!-- DELETE USER (ADMIN) -->
      <div class="endpoint">
        <div class="endpoint-title">
          <span class="method method-delete">DELETE</span>
          Delete User <span style="color: #dc3545; font-size: 14px;">(Admin Only)</span>
        </div>
        <div class="endpoint-path">/api/users/:id</div>
        
        <h4>Description</h4>
        <p>Delete a user account. Admins cannot delete their own account.</p>
        
        <h4>Success Response (200)</h4>
        <div class="code-block">{
  "success": true,
  "message": "User deleted",
  "data": {
    "id": 2,
    "username": "jane_smith",
    "email": "jane@example.com"
  }
}</div>
      </div>
    </div>

    <!-- JOURNAL ROUTES -->
    <div class="section" id="journal-routes">
      <h2>üìù Journal Entry Routes</h2>
      
      <div class="info-box">
        <strong>üîí Authentication Required:</strong> All journal entry routes require a valid JWT token.
      </div>

      <!-- GET USER ENTRIES -->
      <div class="endpoint">
        <div class="endpoint-title">
          <span class="method method-get">GET</span>
          Get User's Journal Entries
        </div>
        <div class="endpoint-path">/api/journal-entries</div>
        
        <h4>Description</h4>
        <p>Get all journal entries for the authenticated user, ordered by most recent first.</p>
        
        <h4>Success Response (200)</h4>
        <div class="code-block">{
  "success": true,
  "data": [
    {
      "id": 1,
      "user_id": 1,
      "username": "john_doe",
      "title": "My First Entry",
      "content": "Today was a great day...",
      "mood": "happy",
      "tags": ["personal", "motivation"],
      "created_at": "2024-12-10T10:30:00.000Z",
      "updated_at": "2024-12-10T10:30:00.000Z"
    }
  ]
}</div>
      </div>

      <!-- GET ALL ENTRIES (ADMIN) -->
      <div class="endpoint">
        <div class="endpoint-title">
          <span class="method method-get">GET</span>
          Get All Journal Entries <span style="color: #dc3545; font-size: 14px;">(Admin Only)</span>
        </div>
        <div class="endpoint-path">/api/journal-entries/all</div>
        
        <h4>Description</h4>
        <p>Get all journal entries from all users. Requires admin role.</p>
        
        <h4>Success Response (200)</h4>
        <div class="code-block">{
  "success": true,
  "data": [
    {
      "id": 1,
      "user_id": 1,
      "username": "john_doe",
      "email": "john@example.com",
      "title": "My First Entry",
      "content": "Today was a great day...",
      "mood": "happy",
      "tags": ["personal", "motivation"],
      "created_at": "2024-12-10T10:30:00.000Z",
      "updated_at": "2024-12-10T10:30:00.000Z"
    }
  ]
}</div>
      </div>

      <!-- GET SINGLE ENTRY -->
      <div class="endpoint">
        <div class="endpoint-title">
          <span class="method method-get">GET</span>
          Get Single Journal Entry
        </div>
        <div class="endpoint-path">/api/journal-entries/:id</div>
        
        <h4>Description</h4>
        <p>Get a specific journal entry. Users can only access their own entries; admins can access any entry.</p>
        
        <h4>Success Response (200)</h4>
        <div class="code-block">{
  "success": true,
  "data": {
    "id": 1,
    "user_id": 1,
    "username": "john_doe",
    "title": "My First Entry",
    "content": "Today was a great day...",
    "mood": "happy",
    "tags": ["personal", "motivation"],
    "created_at": "2024-12-10T10:30:00.000Z",
    "updated_at": "2024-12-10T10:30:00.000Z"
  }
}</div>
      </div>

      <!-- CREATE ENTRY -->
      <div class="endpoint">
        <div class="endpoint-title">
          <span class="method method-post">POST</span>
          Create Journal Entry
        </div>
        <div class="endpoint-path">/api/journal-entries</div>
        
        <h4>Description</h4>
        <p>Create a new journal entry.</p>
        
        <h4>Request Body</h4>
        <div class="code-block">{
  "title": "My Day",
  "content": "Today I learned something new...",
  "mood": "happy",
  "tags": ["learning", "growth"]
}</div>

        <h4>Required Fields</h4>
        <table class="param-table">
          <tr>
            <th>Field</th>
            <th>Type</th>
            <th>Description</th>
          </tr>
          <tr>
            <td><code>title</code></td>
            <td>String</td>
            <td>Entry title (max 255 characters)</td>
          </tr>
          <tr>
            <td><code>content</code></td>
            <td>Text</td>
            <td>Entry content (unlimited length)</td>
          </tr>
        </table>

        <h4>Optional Fields</h4>
        <table class="param-table">
          <tr>
            <th>Field</th>
            <th>Type</th>
            <th>Description</th>
          </tr>
          <tr>
            <td><code>mood</code></td>
            <td>String</td>
            <td>Mood descriptor (e.g., "happy", "sad", "reflective")</td>
          </tr>
          <tr>
            <td><code>tags</code></td>
            <td>Array</td>
            <td>Array of string tags (e.g., ["work", "personal"])</td>
          </tr>
        </table>

        <h4>Success Response (201)</h4>
        <div class="code-block">{
  "success": true,
  "data": {
    "id": 2,
    "user_id": 1,
    "title": "My Day",
    "content": "Today I learned something new...",
    "mood": "happy",
    "tags": ["learning", "growth"],
    "created_at": "2024-12-10T15:30:00.000Z",
    "updated_at": "2024-12-10T15:30:00.000Z"
  }
}</div>
      </div>

      <!-- UPDATE ENTRY -->
      <div class="endpoint">
        <div class="endpoint-title">
          <span class="method method-put">PUT</span>
          Update Journal Entry
        </div>
        <div class="endpoint-path">/api/journal-entries/:id</div>
        
        <h4>Description</h4>
        <p>Update an existing journal entry. Users can only update their own entries; admins can update any entry.</p>
        
        <h4>Request Body</h4>
        <div class="code-block">{
  "title": "Updated Title",
  "content": "Updated content...",
  "mood": "reflective",
  "tags": ["updated", "reflection"]
}</div>

        <div class="info-box">
          <strong>üí° Partial Updates:</strong> All fields are optional. Only provided fields will be updated using COALESCE to preserve existing values.
        </div>

        <h4>Success Response (200)</h4>
        <div class="code-block">{
  "success": true,
  "data": {
    "id": 2,
    "user_id": 1,
    "title": "Updated Title",
    "content": "Updated content...",
    "mood": "reflective",
    "tags": ["updated", "reflection"],
    "created_at": "2024-12-10T15:30:00.000Z",
    "updated_at": "2024-12-10T16:00:00.000Z"
  }
}</div>
      </div>

      <!-- DELETE ENTRY -->
      <div class="endpoint">
        <div class="endpoint-title">
          <span class="method method-delete">DELETE</span>
          Delete Journal Entry
        </div>
        <div class="endpoint-path">/api/journal-entries/:id</div>
        
        <h4>Description</h4>
        <p>Delete a journal entry. Users can only delete their own entries; admins can delete any entry.</p>
        
        <h4>Success Response (200)</h4>
        <div class="code-block">{
  "success": true,
  "message": "Journal entry deleted",
  "data": {
    "id": 2,
    "user_id": 1,
    "title": "Updated Title",
    "content": "Updated content...",
    "mood": "reflective",
    "tags": ["updated", "reflection"],
    "created_at": "2024-12-10T15:30:00.000Z",
    "updated_at": "2024-12-10T16:00:00.000Z"
  }
}</div>
      </div>
    </div>

    <!-- ERROR HANDLING -->
    <div class="section" id="errors">
      <h2>‚ö†Ô∏è Error Handling</h2>
      
      <p>All errors follow this standard format:</p>
      
      <div class="code-block">{
  "success": false,
  "error": "Error message describing what went wrong"
}</div>

      <h3>HTTP Status Codes</h3>
      <table class="param-table">
        <tr>
          <th>Code</th>
          <th>Meaning</th>
          <th>Description</th>
        </tr>
        <tr>
          <td><code>200</code></td>
          <td>OK</td>
          <td>Request succeeded</td>
        </tr>
        <tr>
          <td><code>201</code></td>
          <td>Created</td>
          <td>Resource created successfully</td>
        </tr>
        <tr>
          <td><code>400</code></td>
          <td>Bad Request</td>
          <td>Invalid data or missing required fields</td>
        </tr>
        <tr>
          <td><code>401</code></td>
          <td>Unauthorized</td>
          <td>No token or missing authentication</td>
        </tr>
        <tr>
          <td><code>403</code></td>
          <td>Forbidden</td>
          <td>Valid token but insufficient permissions</td>
        </tr>
        <tr>
          <td><code>404</code></td>
          <td>Not Found</td>
          <td>Resource doesn't exist</td>
        </tr>
        <tr>
          <td><code>500</code></td>
          <td>Internal Server Error</td>
          <td>Server-side error occurred</td>
        </tr>
      </table>

      <h3>Common Error Messages</h3>
      
      <div class="error-box">
        <strong>Authentication Errors:</strong>
        <ul>
          <li>"Access token required" - No token provided in Authorization header</li>
          <li>"Invalid or expired token" - Token is invalid or has expired</li>
        </ul>
      </div>

      <div class="error-box">
        <strong>Authorization Errors:</strong>
        <ul>
          <li>"Admin access required" - Endpoint requires admin role</li>
          <li>"Access denied" - User doesn't have permission for this resource</li>
        </ul>
      </div>

      <div class="error-box">
        <strong>Validation Errors:</strong>
        <ul>
          <li>"All fields are required" - Missing required registration fields</li>
          <li>"Title and content are required" - Missing required journal entry fields</li>
          <li>"Invalid role" - Role must be 'user' or 'admin'</li>
        </ul>
      </div>
    </div>

    <!-- SECURITY -->
    <div class="section">
      <h2>üîí Security Notes</h2>
      
      <div class="success-box">
        <strong>‚úÖ Security Features:</strong>
        <ul>
          <li>Passwords hashed using bcrypt with 10 salt rounds</li>
          <li>JWT tokens for stateless authentication</li>
          <li>SQL injection protection via parameterized queries</li>
          <li>Role-based access control (RBAC)</li>
          <li>Cascading deletes for data integrity</li>
        </ul>
      </div>

      <div class="warning-box">
        <strong>‚ö†Ô∏è Production Recommendations:</strong>
        <ul>
          <li>Use HTTPS in production</li>
          <li>Configure CORS for specific origins</li>
          <li>Update SSL database configuration with proper certificates</li>
          <li>Use strong JWT_SECRET (minimum 32 characters)</li>
          <li>Secure the first user registration endpoint</li>
          <li>Implement rate limiting</li>
          <li>Add request validation middleware</li>
        </ul>
      </div>
    </div>

    <!-- EXAMPLE USAGE -->
    <div class="section">
      <h2>üíª Example Usage</h2>
      
      <h3>Complete Workflow</h3>
      
      <div class="code-block">// 1. Register a new user
const registerRes = await fetch('http://localhost:3000/api/auth/register', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    username: 'john_doe',
    email: 'john@example.com',
    password: 'securePassword123'
  })
});

// 2. Login to get token
const loginRes = await fetch('http://localhost:3000/api/auth/login', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    email: 'john@example.com',
    password: 'securePassword123'
  })
});

const { data } = await loginRes.json();
const token = data.token;

// 3. Create a journal entry
const entryRes = await fetch('http://localhost:3000/api/journal-entries', {
  method: 'POST',
  headers: {
    'Authorization': `Bearer ${token}`,
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    title: 'My First Entry',
    content: 'Today was amazing!',
    mood: 'happy',
    tags: ['first', 'excited']
  })
});

// 4. Get all your entries
const entriesRes = await fetch('http://localhost:3000/api/journal-entries', {
  headers: { 'Authorization': `Bearer ${token}` }
});

const entries = await entriesRes.json();
console.log(entries);

// 5. Get user statistics
const statsRes = await fetch('http://localhost:3000/api/users/me/stats', {
  headers: { 'Authorization': `Bearer ${token}` }
});

const stats = await statsRes.json();
console.log('Total entries:', stats.data.entry_count);</div>
    </div>

    <!-- DATABASE SCHEMA -->
    <div class="section">
      <h2>üóÑÔ∏è Database Schema</h2>
      
      <h3>Users Table</h3>
      <div class="code-block">CREATE TABLE users (
  id SERIAL PRIMARY KEY,
  username VARCHAR(255) UNIQUE NOT NULL,
  email VARCHAR(255) UNIQUE NOT NULL,
  password VARCHAR(255) NOT NULL,
  role VARCHAR(50) DEFAULT 'user',
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);</div>

      <table class="param-table">
        <tr>
          <th>Column</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
        <tr>
          <td><code>id</code></td>
          <td>SERIAL</td>
          <td>Auto-incrementing primary key</td>
        </tr>
        <tr>
          <td><code>username</code></td>
          <td>VARCHAR(255)</td>
          <td>Unique username</td>
        </tr>
        <tr>
          <td><code>email</code></td>
          <td>VARCHAR(255)</td>
          <td>Unique email address</td>
        </tr>
        <tr>
          <td><code>password</code></td>
          <td>VARCHAR(255)</td>
          <td>Bcrypt hashed password (never returned in responses)</td>
        </tr>
        <tr>
          <td><code>role</code></td>
          <td>VARCHAR(50)</td>
          <td>User role: 'user' or 'admin' (default: 'user')</td>
        </tr>
        <tr>
          <td><code>created_at</code></td>
          <td>TIMESTAMP</td>
          <td>Account creation timestamp</td>
        </tr>
      </table>

      <h3>Journal Entries Table</h3>
      <div class="code-block">CREATE TABLE journal_entries (
  id SERIAL PRIMARY KEY,
  user_id INTEGER REFERENCES users(id) ON DELETE CASCADE,
  title VARCHAR(255) NOT NULL,
  content TEXT NOT NULL,
  mood VARCHAR(50),
  tags TEXT[],
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);</div>

      <table class="param-table">
        <tr>
          <th>Column</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
        <tr>
          <td><code>id</code></td>
          <td>SERIAL</td>
          <td>Auto-incrementing primary key</td>
        </tr>
        <tr>
          <td><code>user_id</code></td>
          <td>INTEGER</td>
          <td>Foreign key to users table (cascading delete)</td>
        </tr>
        <tr>
          <td><code>title</code></td>
          <td>VARCHAR(255)</td>
          <td>Entry title (required)</td>
        </tr>
        <tr>
          <td><code>content</code></td>
          <td>TEXT</td>
          <td>Entry content (required, unlimited length)</td>
        </tr>
        <tr>
          <td><code>mood</code></td>
          <td>VARCHAR(50)</td>
          <td>Optional mood descriptor</td>
        </tr>
        <tr>
          <td><code>tags</code></td>
          <td>TEXT[]</td>
          <td>PostgreSQL array of tags</td>
        </tr>
        <tr>
          <td><code>created_at</code></td>
          <td>TIMESTAMP</td>
          <td>Entry creation timestamp</td>
        </tr>
        <tr>
          <td><code>updated_at</code></td>
          <td>TIMESTAMP</td>
          <td>Last update timestamp</td>
        </tr>
      </table>
    </div>

    <!-- ENVIRONMENT VARIABLES -->
    <div class="section">
      <h2>‚öôÔ∏è Environment Variables</h2>
      
      <p>Required environment variables in <code>.env</code> file:</p>
      
      <div class="code-block">DATABASE_URL=postgresql://username:password@localhost:5432/database_name
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
PORT=3000</div>

      <table class="param-table">
        <tr>
          <th>Variable</th>
          <th>Description</th>
          <th>Required</th>
        </tr>
        <tr>
          <td><code>DATABASE_URL</code></td>
          <td>PostgreSQL connection string</td>
          <td>Yes</td>
        </tr>
        <tr>
          <td><code>JWT_SECRET</code></td>
          <td>Secret key for JWT signing (use a long, random string)</td>
          <td>Yes</td>
        </tr>
        <tr>
          <td><code>PORT</code></td>
          <td>Server port (defaults to 3000 if not specified)</td>
          <td>No</td>
        </tr>
      </table>

      <div class="warning-box">
        <strong>‚ö†Ô∏è Important:</strong> Never commit your <code>.env</code> file to version control. It's already included in <code>.gitignore</code>.
      </div>
    </div>

    <!-- BACK HOME -->
    <div class="back-home">
      <a href="/" class="nav-link">‚Üê Back to Login</a>
    </div>
  </div>
</body>
</html>